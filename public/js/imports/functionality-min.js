import t from"../core/jquery/jquery.js";import"../plugins/flatpickr/flatpickr.js";import e from"../core/bootstrap/bootstrap.esm.js";import s from"../plugins/perfect-scrollbar/perfect-scrollbar.js";import"../plugins/bootstrap-notify.js";import"../plugins/bootstrap-select.js";import"../plugins/bootstrap-switch-button.js";import a from"../plugins/K.js";import"../plugins/K.jquery.js";import i from"../pages/shared/shared.js";const o=t("html"),n={initTextareas(){t("textarea.form-control").each((function(){t(this).parent().hasClass("input-group, form-group")&&(t(this).wrap(t("<div />",{class:"grow-wrap"})),t(this).on("input",(function(){t(this).parent().get(0).dataset.replicatedValue=t(this).val()})),t(this).parent().get(0).dataset.replicatedValue=t(this).val())}))},initSidebar(){t(".minimize-sidebar").on("click",(function(){const e=!t(".sidebar-mini").length;t("body")[(e?"add":"remove")+"Class"]("sidebar-mini"),i.setPageCookie("all",{sidebar:e});const s=setInterval((function(){window.dispatchEvent(new Event("resize"))}),180);setTimeout((function(){clearInterval(s)}),1e3)})),a.isWindows&&t(".sidebar .collapse").on("shown.bs.collapse hidden.bs.collapse",(function(){t(".sidebar .sidebar-wrapper").data("scrollbar").update()}))},initScrollbars(){if(a.isWindows){const e=[],a=t(".main-panel, .wrapper-full-page, .sidebar .sidebar-wrapper, .table-responsive, .perfect-scrollbar"),i={wheelSpeed:2,wheelPropagation:!0,minScrollbarLength:20,suppressScrollX:!0};a.each((function(){const a=t(this),o=a.data().scrollbar=new s(this,a.hasClass("main-panel")||a.hasClass("wrapper-full-page")?i:{});e.push(o)})),e.length&&t(window).on("resize",(function(){t.each(e,(function(t,e){e.update()}))})),o.addClass("perfect-scrollbar-on")}else o.addClass("perfect-scrollbar-off")},initNavbar(){const e=t(".navbar");t("#navigation").on("show.bs.collapse",(function(){e.removeClass("navbar-transparent").addClass("bg-white")})).on("hide.bs.collapse",(function(){e.addClass("navbar-transparent").removeClass("bg-white")})),t(".navbar-toggle").on("click",(function(){const e=t(this),s=t("html");if(s.hasClass("nav-open"))s.removeClass("nav-open"),setTimeout((()=>{e.removeClass("toggled"),t(".bodyClick").remove()}),550);else{setTimeout((function(){e.addClass("toggled")}),580);t('<div class="bodyClick"></div>').appendTo("body").on("click",(function(){s.removeClass("nav-open"),setTimeout((()=>{e.removeClass("toggled"),t(".bodyClick").remove()}),550)})),s.addClass("nav-open")}}))},initTooltips(){t('[title][title!=""]').each((function(){const s=t(this).data();s.bsToggle||(s.bsToggle="tooltip"),new e.Tooltip(this)}))},initSelects(){const e=t(".selectpicker");0!=e.length&&e.selectpicker({iconBase:"fal",tickIcon:"fa-check",showTick:!0})},initForms(){t("input").each((function(){t(this).hasAttr("disabled")&&t(this).disable()}))},showMessage(e,s="far fa-bell",a="primary",i=4e3){try{t.notify({icon:s,message:e},{type:a,timer:i,placement:{from:"top",align:"right"}})}catch(t){}},initDatePickers(){t("[data-flatpickr]").each((function(){t(this).data().flatpickr=t(this).flatpickr({positionElement:t(this).closest(".input-group").get(0)})})),t(".main-panel").on("scroll",(function(){const e=t(".flatpickr-input + input.active");if(e.length){const t=e.prev().data().flatpickr||{};t.close(),t.open()}}))},initInputLabels(){const e=t(".input-label").siblings(".form-control"),s=function(){t(this).each((function(){const e=(t(this).val()?"add":"remove")+"Class";t(this)[e]("has-value"),t(this).closest(".input-group")[e]("has-value")}))};s.call(e),e.on("change blur input keyup",s)}};export default n;