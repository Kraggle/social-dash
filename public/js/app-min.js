import $ from"./core/jquery/jquery.js";import Bootstrap from"./core/bootstrap/bootstrap.esm.js";import Theme from"./imports/functionality.js";import K from"./plugins/K.js";import handler from"./imports/handlers.js";$((()=>{Theme.initTextareas(),Theme.initScrollbars(),Theme.initNavbar(),Theme.initSidebar(),Theme.initTooltips(),Theme.initSelects(),Theme.initForms(),Theme.initDatePickers(),Theme.initInputLabels(),$(".delete-alert").on("click",handler.deleteAlert),$("#account-selector").on("change",handler.selectAccount),handler.selectAccount(),$(".dropdown.keep-open").on("hide.bs.dropdown",(function(e){return!$(this).find(e.clickEvent.target).length}));const e=$(".modal[data-lifetime]");if(e.length){const t=6e4*parseInt(e.data("lifetime")),o=new Bootstrap.Modal(e.get(0)),i=45e3,n=$("#time-left");let r,a,l=i/1e3;const s=()=>{setTimeout((()=>{o.show(),r=setTimeout((()=>{window.location.reload()}),i),n.text(l),a=setInterval((()=>{n.text(l--)}),1e3)}),t-i)};s(),$("#resume-session").on("click",(function(){o.hide(),clearTimeout(r),clearInterval(a),$.ajax({dataType:"json",type:"POST",url:"/keep-alive",complete:function(){s(),l=i/1e3}})}))}}));