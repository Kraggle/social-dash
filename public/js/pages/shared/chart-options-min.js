import o from"../../plugins/K.js";import e from"./colors.js";import r from"../../plugins/chart-js/chart.js";r.defaults.font.family="Montserrat";const t=o=>(o<0&&(o+=24),o>24&&(o-=24),o?o<12?`${o}am`:12==o?`${o}pm`:o-12+"pm":"12am"),a=o=>["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][o-1];const l=new class{tooltip={backgroundColor:"#f5f5f5",titleColor:"#333",bodyColor:"#666",bodySpacing:4,padding:12,mode:"nearest",intersect:!0,position:"average"};legend={display:!1};lineOptions={maintainAspectRatio:!1,layout:{},responsive:!0,scales:{y:{barPercentage:1.6,grid:{drawBorder:!1,color:"transparent",zeroLineColor:"transparent"},ticks:{padding:20}},x:{barPercentage:1.6,grid:{drawBorder:!1,color:e.alpha("blue",.1),zeroLineColor:"transparent"},ticks:{padding:20}}},plugins:{legend:this.legend,tooltip:this.tooltip}};lineDataset={label:"",fill:!0,backgroundColor:"transparent",borderCapStyle:"round",borderColor:e.hex.blue,borderDash:[],borderWidth:2,tension:.4,pointBackgroundColor:e.hex.blue,pointBorderColor:"transparent",pointBorderWidth:2,pointHitRadius:20,pointRadius:4,pointHoverBackgroundColor:e.hex.blue,pointHoverRadius:7,pointHoverBorderWidth:4};barOptions={maintainAspectRatio:!1,layout:{padding:20},responsive:!0,scales:{y:{grid:{drawBorder:!1,color:e.alpha("blue",.1),zeroLineColor:"transparent"},ticks:{}},x:{grid:{drawBorder:!1,color:e.alpha("blue",.1),zeroLineColor:"transparent"},ticks:{}}},plugins:{legend:this.legend,tooltip:this.tooltip}};barDataset={label:"",fill:!0,backgroundColor:e.hex.blue,hoverBackgroundColor:e.hex.blue,borderColor:e.hex.blue,borderWidth:2,borderDash:[],borderDashOffset:0};bubbleOptions={maintainAspectRatio:!1,layout:{padding:20},responsive:!0,scales:{y:{grid:{borderColor:"transparent",color:e.alpha("black",.1)},ticks:{callback:function(o){return a(this.getLabelForValue(o))}}},x:{min:-1,max:24,grid:{borderColor:"transparent",color:e.alpha("black",.1)},ticks:{callback:function(o,e){return t(parseInt(this.getLabelForValue(o)))}}}},plugins:{legend:this.legend,tooltip:o.extend(!0,{},this.tooltip,{callbacks:{label:function(o){return`${o.label} - ${a(o.raw.y)} ${t(o.raw.x)}: ${o.raw.r}`}}})}};bubbleDataset={label:"",fill:!0,backgroundColor:e.hex.blue,hoverBackgroundColor:e.hex.blue,borderColor:e.hex.blue,borderWidth:0,borderDash:[],borderDashOffset:0,pointBackgroundColor:e.hex.blue,pointBorderColor:"transparent",pointHoverBackgroundColor:e.hex.blue,pointBorderWidth:20,pointHoverRadius:4,pointHoverBorderWidth:15,pointRadius:4}};export default{getHeight:o=>.71*($(o).data("height")||280),dataset(o="line",e="blue",r=null,t=null){return this[`${o}Dataset`](e,r,t)},options(o="line"){return this[`${o}Options`]()},lineDataset(r="blue",t=null,a=null){if(a&&t){const o=this.getHeight(t);(a=(t=t.getContext("2d")).createLinearGradient(0,o,0,0)).addColorStop(1,e.alpha(r,.3)),a.addColorStop(0,e.alpha(r,0))}return o.extend({},l.lineDataset,{borderColor:e.hex[r],backgroundColor:a||e.alpha(r,.1),pointBackgroundColor:e.hex[r],pointHoverBackgroundColor:e.hex[r]})},lineOptions:()=>o.extend(!0,{},l.lineOptions),barDataset(r="blue",t=null,a=null){let n;if(a&&t){const o=this.getHeight(t);(a=(t=t.getContext("2d")).createLinearGradient(0,o,0,0)).addColorStop(1,e.alpha(r,.8)),a.addColorStop(.4,e.alpha(r,.55)),a.addColorStop(0,e.alpha(r,.5)),n=t.createLinearGradient(0,o,0,0),n.addColorStop(1,e.alpha(r,1)),n.addColorStop(.4,e.alpha(r,.75)),n.addColorStop(0,e.alpha(r,.7))}return o.extend({},l.barDataset,{borderColor:e.hex[r],backgroundColor:a||e.alpha(r,.6),hoverBackgroundColor:n||e.alpha(r,.9)})},barOptions:()=>o.extend(!0,{},l.barOptions),bubbleDataset:(r="blue")=>o.extend({},l.bubbleDataset,{backgroundColor:e.hex[r],hoverBackgroundColor:e.hex[r],borderColor:e.hex[r],pointBackgroundColor:e.hex[r],pointHoverBackgroundColor:e.hex[r]}),bubbleOptions:()=>o.extend(!0,{},l.bubbleOptions)};